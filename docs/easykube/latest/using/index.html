<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using Easykube :: Easykube Documentation</title>
    <link rel="canonical" href="http://torloejborg.github.io/easykube/easykube/latest/using/">
    <meta name="generator" content="Antora 3.1.9">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/vendor/asciinema-player.css">

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">Easykube Documentation</div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<script src="../../../_/js/vendor/asciinema-player.js"></script>
<div class="body">
<div class="nav-container" data-component="easykube" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../">EasyKube</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../rationale/">Why Easykube</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../install/">Install Easykube</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../addons/">Addons explained</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="./">Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../internals/">Internals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../container_runtimes/">Container Runtimes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../faq/">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/contributing/">Contributing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developing/newfunctionality/">Adding new functionality</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../">EasyKube</a></li>
    <li><a href="./">Usage</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Using Easykube</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_adding_software">Adding software</a></li>
<li><a href="#_immutability">Immutability</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Prerequisites: Easykube is <a href="../install/#install-install" class="xref page">installed</a>, <a href="../install/#install-configuration" class="xref page">configured</a>, and <a href="../install/#install-postcheck" class="xref page">running</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_software"><a class="anchor" href="#_adding_software"></a>Adding software</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Examine what the repository provides:</p>
</div>
<div class="paragraph">
<p>$ easykube list</p>
</div>
<div class="paragraph">
<p>This prints a table of available addons:</p>
</div>
<div class="paragraph">
<p>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ADDON   â”‚                      DESCRIPTION                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ debugpod â”‚ Swiss-army knife of useful tools                       â”‚
â”‚ elk-crds â”‚ Applies ELK custom resource definitions to the cluster â”‚
â”‚ gitea    â”‚ Github-ish repository manager, lighter and open-source â”‚
â”‚ immich   â”‚ Self hosted photo manager                              â”‚
â”‚ ingress  â”‚ The NGinx ingress controller                           â”‚
â”‚ keycloak â”‚ OpenIdConnect gateway                                  â”‚
â”‚ loglab   â”‚ The Elastic, Logstash, Kibana (ELK) stack              â”‚
â”‚ minio    â”‚ S3 compatible storage server                           â”‚
â”‚ pgadmin  â”‚ Administrative UI for postgres                         â”‚
â”‚ postgres â”‚ Advanced Open Source RDBMS (tensorchord) variant       â”‚
â”‚ rabbitmq â”‚ A message queue system implemented in Erlang           â”‚
â”‚ redis    â”‚ Memory cache                                           â”‚
â”‚ temporal â”‚ An opensource workflow engine                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</p>
</div>
<div class="paragraph">
<p>Let&#8217;s install the temporal workflow engine:</p>
</div>
<div class="paragraph">
<p><code>$ easykube add temporal</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre> Processing postgres.ek.js
ğŸ–¼  pull ghcr.io/tensorchord/vchord-postgres:pg17-v0.3.0
ğŸ–¼  tag ghcr.io/tensorchord/vchord-postgres:pg17-v0.3.0 to localhost:5001/postgres:x
ğŸ–¼  pushed localhost:5001/postgres:x
kustomize applied for postgres
Waiting for deployment "postgres" in namespace "default" to become ready...
Deployment is ready!
ğŸ”§ Processing ingress.ek.js
ğŸ–¼ pull registry.k8s.io/ingress-nginx/kube-webhook-certgen:v1.4.4
ğŸ–¼ pull registry.k8s.io/ingress-nginx/controller:v1.12.1
ğŸ–¼ tag registry.k8s.io/ingress-nginx/kube-webhook-certgen:v1.4.4 to localhost:5001/ingress-nginx/kube-webhook-certgen:v1.4.4
ğŸ–¼ tag registry.k8s.io/ingress-nginx/controller:v1.12.1 to localhost:5001/ingress-nginx/controller:v1.12.1
ğŸ–¼ pushed localhost:5001/ingress-nginx/kube-webhook-certgen:v1.4.4
ğŸ–¼ pushed localhost:5001/ingress-nginx/controller:v1.12.1
kustomize applied for ingress
Waiting for deployment "ingress-nginx-controller" in namespace "ingress-nginx" to become ready...
Deployment is ready!
ğŸ”§ Processing temporal.ek.js
DROP DATABASE
NOTICE:  database "temporal" does not exist, skipping

DROP ROLE
NOTICE:  role "temporal" does not exist, skipping

CREATE ROLE

CREATE DATABASE

ğŸ–¼  pull temporalio/auto-setup:1.22.1.0
ğŸ–¼  pull temporalio/ui:2.19.0
ğŸ–¼  tag temporalio/ui:2.19.0 to localhost:5001/temporalio/ui:2.19.0
ğŸ–¼  tag temporalio/auto-setup:1.22.1.0 to localhost:5001/temporalio/auto-setup:1.22.1.0
ğŸ–¼  pushed localhost:5001/temporalio/ui:2.19.0
ğŸ–¼  pushed localhost:5001/temporalio/auto-setup:1.22.1.0
kustomize applied for temporal
Waiting for deployment "temporal-server" in namespace "default" to become ready...
Deployment is ready!</pre>
</div>
</div>
<div class="paragraph">
<p>Now temporal claims itâ€™s installed, but Postgres and the ingress controller were also installed. This happened because of the <a href="../addons/#addons-dependencies" class="xref page">"dependsOn"</a> declaration in the addon.</p>
</div>
<div class="paragraph">
<p>If all went well, you should be able to visit the Temporal UI at <a href="https://temporal.localtest.me" class="bare">https://temporal.localtest.me</a></p>
</div>
<div class="paragraph">
<p>Try adding temporal again with $ easykube add temporal. You get this result:</p>
</div>
<div class="paragraph">
<p>We get this result</p>
</div>
<div class="listingblock">
<div class="content">
<pre>âš  postgres already present in cluster
âš  ingress already present in cluster
âš  temporal already present in cluster

When an addon is added/installed, an entry in a configmap is created with the addon's name and a timestamp.

We can override this behavior by passing force flags $ easykube add --help:

By default, addons also apply their dependencies.

Usage:
easykube add [addon...] [flags]

Flags:
      --cluster string   Specify a different kube-context for installation
  -f, --force            If already applied, force
  -h, --help             help for add
      --kv string        pass key/value pairs into script context
  -n, --nodepends        Do not apply dependent addons
  -p, --pull             Download newer local images

Global Flags:
  -d, --dry-run   dry-run
  -v, --verbose   verbose output</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
By passing --force or -f you force the entire dependency tree to be added again. During development, one addon is typically iterated over, so itâ€™s natural to use $ easykube add foo --force --nodepends or $ easykube add -fn.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Thatâ€™s basically it! You can now build or use software catalogues that run on a local Kubernetes single-node cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_immutability"><a class="anchor" href="#_immutability"></a>Immutability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Because easykube runs in Docker (or a compatible runtime), it is not possible to open new NodePorts in the cluster and expect them to be availableâ€”Docker is immutable by design.</p>
</div>
<div class="paragraph">
<p>So, if you introduce a new service or switch to a different addon repository, the cluster must be recreated. Your persistent data is safe, so it should be OK.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using a customized version of Antora default UI.</p>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
